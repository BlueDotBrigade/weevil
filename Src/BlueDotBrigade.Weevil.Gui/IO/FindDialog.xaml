<Window x:Class="BlueDotBrigade.Weevil.Gui.IO.FindDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Find" 
        Height="240" Width="600"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
		   WindowStartupLocation="CenterOwner"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:controls="clr-namespace:BlueDotBrigade.Weevil.Windows.Controls;assembly=BlueDotBrigade.Weevil.Windows"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="{DynamicResource ApplicationFontSize}"
        FontFamily="{materialDesign:MaterialDesignFont}">
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Margin" Value="5" />
            <Setter Property="Foreground" Value="{StaticResource TextForeground}"/>
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Right" />
            <Setter Property="TextAlignment" Value="Right" />
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="5" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="controls:TextBoxBehavior.AutoSelectEnabled" Value="True" />
        </Style>
        <Style TargetType="Button" BasedOn="{StaticResource  MaterialDesignRaisedButton}">
            <Setter Property="Margin" Value="{StaticResource ButtonMargin}" />
            <Setter Property="Width" Value="{StaticResource ButtonWidth}" />
        </Style>
        <Style TargetType="RadioButton">
            <Setter Property="Margin" Value="5" />
            <Setter Property="Foreground" Value="{StaticResource TextForeground}"/>
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <TabControl
            Grid.Row="1"
            materialDesign:ColorZoneAssist.Mode="PrimaryMid"
            materialDesign:ColorZoneAssist.Background="{DynamicResource PrimaryHueMidBrush}"
            materialDesign:ColorZoneAssist.Foreground="White"
            VerticalAlignment="Stretch"
            HorizontalAlignment="Stretch">

        <!-- Text Tab (Content or Comments) -->
        <TabItem Header="Text" Margin="-2,0,-2,0">
            <materialDesign:ColorZone
                Mode="Standard"
                Background="{DynamicResource MaterialDesignPaper}"
                VerticalAlignment="Stretch"
                HorizontalAlignment="Stretch">
                <Grid FocusManager.FocusedElement="{Binding ElementName=InputTextBox}"
                      VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="10" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="6*" />
                        <ColumnDefinition Width="0.5*" />
                    </Grid.ColumnDefinitions>
                    <Rectangle Grid.Row="0" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <TextBlock Grid.Row="0" Grid.Column="0"
             Text="Search in:"
             HorizontalAlignment="Right" 
             TextWrapping="WrapWithOverflow" />
                    <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="5">
                        <RadioButton Content="Comments" IsChecked="{Binding SearchComments}" GroupName="SearchLocation" Margin="0,0,20,0"/>
                        <RadioButton Content="Content" IsChecked="{Binding SearchContent}" GroupName="SearchLocation"/>
                    </StackPanel>
                    <Rectangle Grid.Row="1" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <TextBlock Grid.Row="1" Grid.Column="0"
             Text="Search for:"
             HorizontalAlignment="Right" 
             TextWrapping="WrapWithOverflow" />
                    <TextBox Grid.Row="1" Grid.Column="1" x:Name="InputTextBox" 
           Text="{Binding UserInput, UpdateSourceTrigger=PropertyChanged}"/>
                    <Rectangle Grid.Row="2" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <TextBlock Grid.Row="2" Grid.Column="0"
             Text="Case sensitive:"
             HorizontalAlignment="Right" 
             TextWrapping="WrapWithOverflow" />
                    <CheckBox Grid.Row="2" Grid.Column="1" IsChecked="{Binding IsCaseSensitive}" Content="Yes"/>
                    <Rectangle Grid.Row="3" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <TextBlock Grid.Row="3" Grid.Column="0"
             Text="Mode:"
             HorizontalAlignment="Right" 
             TextWrapping="WrapWithOverflow" />
                    <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal" Margin="5">
                        <RadioButton Content="Plain Text" IsChecked="{Binding IsPlainTextMode}" GroupName="SearchMode" Margin="0,0,20,0"/>
                        <RadioButton Content="Regular Expression" IsChecked="{Binding IsRegexMode}" GroupName="SearchMode"/>
                    </StackPanel>
                    <Rectangle Grid.Row="4" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Right">
                        <Button Content="Previous" Click="OnPreviousTextClicked" />
                        <Button Content="Next" Click="OnNextTextClicked" IsDefault="True"/>
                    </StackPanel>
                </Grid>
            </materialDesign:ColorZone>
        </TabItem>

        <!-- Elapsed Time Tab -->
        <TabItem Header="Elapsed Time">
            <materialDesign:ColorZone
                Mode="Standard"
                Background="{DynamicResource MaterialDesignPaper}"
                VerticalAlignment="Stretch"
                HorizontalAlignment="Stretch">
                    <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="10" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="6*" />
                        <ColumnDefinition Width="0.5*" />
                    </Grid.ColumnDefinitions>

                    <Rectangle Grid.Row="0" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <TextBlock Grid.Row="0" Grid.Column="0"
                         Text="Minimum (ms):"
                         HorizontalAlignment="Right" 
                         TextWrapping="WrapWithOverflow" />
                    <TextBox Grid.Row="0" Grid.Column="1" x:Name="MinElapsedTextBox"
           Text="{Binding MinElapsedTimeMs, UpdateSourceTrigger=PropertyChanged}"/>

                    <Rectangle Grid.Row="1" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <TextBlock Grid.Row="1" Grid.Column="0"
                         Text="Maximum (ms):"
                         HorizontalAlignment="Right" 
                         TextWrapping="WrapWithOverflow" />
                    <TextBox Grid.Row="1" Grid.Column="1" x:Name="MaxElapsedTextBox"
           Text="{Binding MaxElapsedTimeMs, UpdateSourceTrigger=PropertyChanged}"/>

                    <Rectangle Grid.Row="2" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <TextBlock Grid.Row="2" Grid.Column="1"
                         Text="Leave blank for no limit."
                         HorizontalAlignment="Left"
                         Margin="10,5,5,5"
                         FontStyle="Italic" />

                    <Rectangle Grid.Row="3" Grid.Column="0" Fill="{StaticResource MaterialDesignCardBackground}" />
                    <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Right">
                        <Button Content="Previous" Click="OnPreviousElapsedClicked" />
                        <Button Content="Next" Click="OnNextElapsedClicked" IsDefault="True"/>
                    </StackPanel>
                </Grid>
            </materialDesign:ColorZone>
        </TabItem>
    </TabControl>
        </Grid>
</Window>